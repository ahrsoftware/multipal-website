{% extends "base.html" %}
{% load settings_value %}
{% load static %}

{% block main %}

<section>
    <div class="container">
        <h2>Account</h2>
        <hr>
        <p>
            Welcome to your account for the MultiPal database. On this page you can view your recent activity, update your details, change your password and logout.
        </p>
    </div>
</section>

<section class="container" id="account-recentactivity">
    <h3>Recent Activity</h3>
    {% if my_recent_graphic_elements or my_recent_item_images or my_recent_items or my_recent_hands or my_recent_scribes %}

        {% if my_recent_item_images %}
            <h4>My Recent Item Images</h4>
            {% include "palaeography/snippets/list-body.html" with object_list=my_recent_item_images list_type='image' %}
        {% endif %}

        {% if my_recent_items %}
            <h4>My Recent Items</h4>
            {% include "palaeography/snippets/list-body.html" with object_list=my_recent_items list_type='text' %}
        {% endif %}

    {% else %}
        <p>
            No recent activity to show yet. When you start creating content, it will be visible here.
        </p>
    {% endif %}

</section>

<section class="container" id="account-mydetails">
    <h3>My Details</h3>
    <form method="post" class="full-form">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit"><i class="fas fa-check"></i> Save changes</button>
    </form>
    <p>
        <a href="{% url 'account:change-password' %}">Change password</a>
    </p>
</section>

<section class="container" id="account-logout">
    <h3>Logout</h3>
    <p>
        Thanks for using MultiPal - see you soon!
    </p>
    <p>
        <a href="{% url 'logout' %}">Logout</a>
    </p>
</section>

{% endblock %}